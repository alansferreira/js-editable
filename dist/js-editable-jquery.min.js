!function($){function editable(options){function input_change(t){var e=$(t.target),n=e.data(DATA_EDITABLE_OPTIONS);return n&&n.edtAutoUpdate&&updateEditableSource(e),!n||!n.onchange||n.onchange(t)}function startEdit(t){var e=$(t),n=e.data(DATA_EDITABLE_OPTIONS),i=n.edtInput=$(n.edtInput);i.on("keydown",input_keydown),i.on("blur",input_blur),i.on("change",input_change),i.on("focus",input_focus),i.data(DATA_EDITABLE_INITIAL_VALUE,e.text()),i.data(DATA_EDITABLE_OPTIONS,n),i.data(DATA_EDITABLE_SOURCE,e),updateInputPosition(i),i.val(e.text()),i.show(),i.focus(),i.select()}function endEdit($editable){var $options=$($editable).data(DATA_EDITABLE_OPTIONS),$input=$options.edtInput=$($options.edtInput);if(updateEditableSource($input),$input.hide(),$options.edtOnCommit){var commit=eval($options.edtOnCommit);"function"==typeof commit&&commit()}}function cancelEdit(t){var e=$(t).data(DATA_EDITABLE_OPTIONS),n=e.edtInput=$(e.edtInput),i=n.data(DATA_EDITABLE_INITIAL_VALUE);n.hide(),n.val(i),updateEditableSource(n)}function input_focus(t){}function input_keydown(t){var e=$(t.target);if(t.cancelBubble)return!1;var n=null,i=e.data(DATA_EDITABLE_OPTIONS);switch(i&&i.edtAutoUpdate&&updateEditableSource(e),i&&i.edtAutoMetrics&&updateInputPosition(e),t.keyCode){case 27:return cancelEdit()}if(9==t.keyCode){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0;var a=e.data(DATA_EDITABLE_SOURCE),d=a.data("edtIndex");return n=$(".editable:gt("+d+"):first"),!n.length&&i.edtInfiniteNavigation&&(n=$(".editable:first")),n.length&&(endEdit(a.get(0)),startEdit(n.get(0))),!1}}function updateInputPosition(t){var e=t.data(DATA_EDITABLE_SOURCE);t.css({position:"absolute",top:e.offset().top+"px",left:e.offset().left+"px","font-family":e.css("font-family"),"font-size":e.css("font-size"),margin:e.css("margin")}),t.width(e.width()),t.height(e.height())}function updateEditableSource(t){t.data(DATA_EDITABLE_SOURCE).html(t.val())}function input_blur(t){endEdit($(t.target).data(DATA_EDITABLE_SOURCE))}function editable_click(t){startEdit($(t.target))}var _options=$.extend({},defaultOptions,options),ret=this.each(function(){var t=$(this);t.data(DATA_EDITABLE_OPTIONS,$.extend({},_options,t.data())),t.addClass("editable"),t.on("click",editable_click),this.startEdit=function(){return startEdit(t)},this.endEdit=function(){return endEdit(t)},this.cancelEdit=function(){return cancelEdit(t)},$(".editable").each(function(t,e){$(e).data("edtIndex",t)})});return ret}var defaultOptions={edtAutoUpdate:!0,edtAutoMetrics:!0,edtInfiniteNavigation:!0,edtOnCommit:null,edtInput:"<input type='text' class='editable-input-text'>"},DATA_EDITABLE_SOURCE="editableSource",DATA_EDITABLE_OPTIONS="editableOptions",DATA_EDITABLE_INITIAL_VALUE="editableInitialValue";$.fn.editable=editable,$(".editable").editable(),$(".editable").each(function(t,e){$(e).data("edtIndex",t)})}(jQuery);