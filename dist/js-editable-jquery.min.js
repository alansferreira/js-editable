!function($){function editable(options){function input_change(t){var n=$input.data(DATA_EDITABLE_OPTIONS);return n&&n.edtAutoUpdate&&updateEditableSource(),!n||!n.onchange||n.onchange(t)}function startEdit(t){var n=$(t);$input.data(DATA_EDITABLE_INITIAL_VALUE,n.text()),$input.data(DATA_EDITABLE_OPTIONS,n.data(DATA_EDITABLE_OPTIONS)),$input.data(DATA_EDITABLE_SOURCE,n),updateInputPosition(),$input.val(n.text()),$input.show(),$input.select()}function endEdit(){updateEditableSource(),$input.hide();var opt=$input.data(DATA_EDITABLE_OPTIONS);if(opt.edtOnCommit){var commit=eval(opt.edtOnCommit);"function"==typeof commit&&commit()}}function cancelEdit(){var t=$input.data(DATA_EDITABLE_INITIAL_VALUE);$input.hide(),$input.val(t),updateEditableSource()}function input_focus(t){}function input_keydown(t){if(t.cancelBubble)return!1;var n=null,e=$input.data(DATA_EDITABLE_OPTIONS);switch(e&&e.edtAutoUpdate&&updateEditableSource(),e&&e.edtAutoMetrics&&updateInputPosition(),t.keyCode){case 27:return cancelEdit()}if(9==t.keyCode){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0;var i=$input.data(DATA_EDITABLE_SOURCE),a=i.data("edtIndex");return n=$(".editable:gt("+a+"):first"),!n.length&&e.edtInfiniteNavigation&&(n=$(".editable:first")),n.length&&(endEdit(i.get(0)),startEdit(n.get(0))),!1}}function updateInputPosition(){var t=$input.data(DATA_EDITABLE_SOURCE);$input.css({position:"absolute",top:t.offset().top+"px",left:t.offset().left+"px","font-family":t.css("font-family"),"font-size":t.css("font-size"),margin:t.css("margin")}),$input.width(t.width()),$input.height(t.height())}function updateEditableSource(){$input.data(DATA_EDITABLE_SOURCE).html($input.val())}function input_blur(t){endEdit()}function editable_click(t){startEdit($(t.target))}var _options=$.extend({},defaultOptions,options),$input=$(_options.edtInput);$input.on("keydown",input_keydown),$input.on("blur",input_blur),$input.on("change",input_change),$input.on("focus",input_focus);var ret=this.each(function(){var t=$(this);t.data(DATA_EDITABLE_OPTIONS,$.extend({},_options,t.data())),t.addClass("editable"),t.on("click",editable_click),this.startEdit=function(){return startEdit(t)},this.endEdit=function(){return endEdit(t)},this.cancelEdit=function(){return cancelEdit(t)},$(".editable").each(function(t,n){$(n).data("edtIndex",t)})});return ret}var defaultOptions={edtAutoUpdate:!0,edtAutoMetrics:!0,edtInfiniteNavigation:!0,edtOnCommit:null,edtInput:"<input type='text' class='editable-input-text'>"},DATA_EDITABLE_SOURCE="editableSource",DATA_EDITABLE_OPTIONS="editableOptions",DATA_EDITABLE_INITIAL_VALUE="editableInitialValue";$.fn.editable=editable,$(".editable").editable(),$(".editable").each(function(t,n){$(n).data("edtIndex",t)})}(jQuery);